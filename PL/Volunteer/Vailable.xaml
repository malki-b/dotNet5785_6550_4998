<Window x:Class="PL.Volunteer.AvailableCallsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Available Calls"
        Height="700"
        Width="1000"
        DataContext="{Binding RelativeSource={RelativeSource Mode=Self}}"
        WindowStartupLocation="CenterScreen"
        FontFamily="Segoe UI"
        Background="#f7faff">


	<Border>
		<DockPanel LastChildFill="True" Margin="0">

			<!-- Header Section -->
			<StackPanel DockPanel.Dock="Top" Orientation="Vertical" Margin="0,0,0,20">
				<TextBlock Text="Availanle Calls List"
                           FontSize="26"
                           FontWeight="Bold"
                           Foreground="#2770f1"
                           Margin="20,10,0,10" Width="228"/>

				<!-- Filters Row -->
				<UniformGrid Columns="2" Margin="20,0,20,0" HorizontalAlignment="Stretch" Width="822">
					<!-- Sorting -->
					<StackPanel Orientation="Vertical" Margin="0,0,12,0">
						<TextBlock Text="Sort by"
                                   FontSize="14"
                                   FontWeight="SemiBold"
                                   Margin="0,0,0,4"/>
						<ComboBox ItemsSource="{Binding Source={StaticResource OpenCallFieldKey}}"
                                  SelectedValue="{Binding Path=CallSortProp, Mode=TwoWay}"
                                  SelectionChanged="SelectionChangedInOpenCallListProp"
                                  Height="32"
                                  FontSize="14"/>
					</StackPanel>

					<!-- Filter by Type -->
					<StackPanel Orientation="Vertical" Margin="0,0,12,0">
						<TextBlock Text="Filter by Type"
                                   FontSize="14"
                                   FontWeight="SemiBold"
                                   Margin="0,0,0,4"/>
						<ComboBox ItemsSource="{Binding Source={StaticResource TypeOfCallPropertyKey}}"
                                  SelectionChanged="SelectionChangedInOpenCallListProp"
                                  SelectedValue="{Binding Path=TypeOfCallFilterProp, Mode=TwoWay}"
                                  Height="32"
                                  FontSize="14"/>
					</StackPanel>

					<!-- Future filter placeholder -->
					<!--<StackPanel Orientation="Vertical">
                        <TextBlock Text="(Other Filter)"
                                   FontSize="14"
                                   FontWeight="SemiBold"
                                   Margin="0,0,0,4"/>
                        <ComboBox Height="32"
                                  FontSize="14"
                                  IsEnabled="False" SelectionChanged="ComboBox_SelectionChanged"
                               />
                    </StackPanel>-->
				</UniformGrid>
			</StackPanel>

			<!-- ListView Section -->
			<ListView ItemsSource="{Binding Path=OpenCallList}"
                      Margin="20,0,20,20"
                      BorderThickness="1"
                      BorderBrush="#e1e6f2"
                      Background="White" Width="827" SelectionChanged="ListView_SelectionChanged">
				<ListView.View>
					<GridView AllowsColumnReorder="True">
						<GridViewColumn Header="ID" Width="60">
							<GridViewColumn.CellTemplate>
								<DataTemplate>
									<TextBlock Text="{Binding Id}" />
								</DataTemplate>
							</GridViewColumn.CellTemplate>
						</GridViewColumn>

						<GridViewColumn Header="Type of Call" Width="120">
							<GridViewColumn.CellTemplate>
								<DataTemplate>
									<TextBlock Text="{Binding TypeOfCall}" />
								</DataTemplate>
							</GridViewColumn.CellTemplate>
						</GridViewColumn>

						<GridViewColumn Header="Description Of Call" Width="120">
							<GridViewColumn.CellTemplate>
								<DataTemplate>
									<TextBlock Text="{Binding DescriptionOfCall}" />
								</DataTemplate>
							</GridViewColumn.CellTemplate>
						</GridViewColumn>

						<GridViewColumn Header="Address" Width="150">
							<GridViewColumn.CellTemplate>
								<DataTemplate>
									<TextBlock Text="{Binding Address}" />
								</DataTemplate>
							</GridViewColumn.CellTemplate>
						</GridViewColumn>

						<GridViewColumn Header="Opened" Width="130">
							<GridViewColumn.CellTemplate>
								<DataTemplate>
									<TextBlock Text="{Binding TimeOfOpeningCall}" />
								</DataTemplate>
							</GridViewColumn.CellTemplate>
						</GridViewColumn>

						<GridViewColumn Header="Ended" Width="130">
							<GridViewColumn.CellTemplate>
								<DataTemplate>
									<TextBlock Text="{Binding MaxTimeOfFinishCall}" />
								</DataTemplate>
							</GridViewColumn.CellTemplate>
						</GridViewColumn>

						<GridViewColumn Header="DistanceFromTheVolunteer" Width="130">
							<GridViewColumn.CellTemplate>
								<DataTemplate>
									<TextBlock Text="{Binding DistanceFromTheVolunteer}" />
								</DataTemplate>
							</GridViewColumn.CellTemplate>
						</GridViewColumn>
					</GridView>
				</ListView.View>
			</ListView>
			<!--<ListView ItemsSource="{Binding OpenCallList}"
          SelectedItem="{Binding SelectedCall, Mode=TwoWay}"
          SelectionChanged="ListView_SelectionChanged"
          MouseDoubleClick="lsvVolunteerList_MouseDoubleClick"
          Margin="20,0,20,20"
          BorderThickness="1"
          BorderBrush="#e1e6f2"
          Background="White"
          Width="827">
                <ListView.View>
                    <GridView AllowsColumnReorder="True">
                        <GridViewColumn Header="ID" Width="60">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Id}" />
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>

                        <GridViewColumn Header="Type of Call" Width="120">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding TypeOfCall}" />
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>

                        <GridViewColumn Header="Description Of Call" Width="120">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding DescriptionOfCall}" />
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>

                        <GridViewColumn Header="Address" Width="150">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Address}" />
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>

                        <GridViewColumn Header="Opened" Width="130">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding TimeOfOpeningCall}" />
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>

                        <GridViewColumn Header="Ended" Width="130">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding MaxTimeOfFinishCall}" />
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>

                        <GridViewColumn Header="Distance" Width="130">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding DistanceFromTheVolunteer}" />
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                    </GridView>
                </ListView.View>
            </ListView>-->

		</DockPanel>
	</Border>
</Window>
